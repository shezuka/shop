services:
  backend-python:
    image: shop-backend-python
    build: ./backend_python
    environment:
      - DB_HOST=database
      - APP_SECRET=7d8a5214b93cf0d911e9225fdde775aabf4f25ca733e7bc3626dc213f40d5fd4
    ports:
      - 8000:8000
    volumes:
      - "./backend_python:/backend_python:rw"
  frontend-react:
    image: shop-frontend-react
    build: ./frontend_react
    ports:
      - 3000:3000
    volumes:
      - "./frontend_react:/frontend_react:rw"
  database:
    image: postgres:16.2
    environment:
      - POSTGRES_PASSWORD=postgres
    volumes:
      - "database-data:/var/lib/postgres/data:rw"
volumes:
  database-data: {}
